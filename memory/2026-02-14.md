# 2026-02-14

## PR #85 Test Fix

**Issue:** Tests failing in CI for PR #85 (weather overlay full screen)

**Root cause:** Test in `e2e/ui.spec.js:140` was checking that "Avatar Studio" text disappears after closing modal. But since the button was renamed from "Generate Avatar" to "Avatar Studio" (PR #83), that text is always visible on the page.

**Fix:** Changed test to check for "Choose Style" (modal-only content) instead of "Avatar Studio"

**Result:** 82 passed, 10 skipped âœ…

## Open PRs
- **PR #85** - Weather overlay full screen (#84) - tests fixed, awaiting merge
- **PR #83** - Avatar Studio rename (#82) - merged into develop

## Pipeline Status (#74)
- Workflow runs successfully but card move fails
- Error: `INSUFFICIENT_SCOPES` - token needs `read:project` scope
- Current token only has: `repo`, `workflow`
- **Action needed:** Giovanni needs to add `project` scope to PROJECT_TOKEN

## Workflow Improvements Made
- Simplified auto-move-project-cards.yml to query project items directly
- Uses hardcoded project ID and field IDs (more reliable)
- Avoids querying through issue.projectItems which had permission issues

## Test Patterns Learned
- When renaming UI elements, check ALL tests that reference that text
- Modal close tests should check for modal-specific content, not button text
- The "Avatar Studio" button is always visible; modal content like "Choose Style" disappears

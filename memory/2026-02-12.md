# 2026-02-12

## PR #80 Conflict Resolution (Failed Attempt)

**Task:** Resolve conflicts in PR #80 (develop → main) and deploy develop to staging

**What I did wrong:**
1. Merged main into develop: `git merge origin/main`
2. Conflicts in `AvatarGenerator.jsx`
3. I mistakenly kept some main changes that deleted develop files:
   - Deleted `useMood.js` hook
   - Deleted `Toast.jsx` component
   - Deleted config files (production/staging)
   - Deleted CI workflow, vercel.json
4. Removed `showToast` call from AvatarGenerator.jsx

**Giovanni's feedback:**
- "develop is the correct version, do not remove anything from develop"
- "It must have the showToast"
- "Develop is broken, revert the merge"

**Recovery:**
- Reverted with `git reset --hard 83b0b33`
- Force pushed to origin/develop
- Rebuilt and redeployed staging

**Lesson learned:**
When resolving conflicts where main is being merged into develop:
- ALWAYS prioritize develop's version - it's the source of truth
- Never delete files that exist in develop
- Main should only ADD to develop, not REMOVE features
- PR #80 still has unresolved conflicts - need a different approach

## Staging Server

- **URL:** http://3.21.244.33:18795/
- **Represents:** develop branch
- **PM2 app:** moltbot-staging
- **Deploy command:** `pm2 restart moltbot-staging`

## Models

- **Current:** zai/glm-4.7
- **Zai key configured:** Yes
- **GLM-5 available:** https://openrouter.ai/z-ai/glm-5 (can be added to config)
- **Pony Alpha:** Was a stealth model, revealed as early GLM-5 testing version

## PR #80 Status

- **Target:** develop → main
- **Conflict:** `AvatarGenerator.jsx`
- **Status:** Still has conflicts, needs proper resolution
- **Approach needed:** Keep ALL develop features, only add main changes
